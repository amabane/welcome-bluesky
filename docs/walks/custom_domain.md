---
sidebar_position: 4
---

# カスタムドメイン

## 概要

Bluesky は [AT Protocol 📖](/docs/extras/reference#at-protocol) を基盤に構築されており、**あなたが所有している[ドメイン 📖](/docs/extras/reference#ドメイン)をアカウントの[ハンドル 📖](/docs/extras/reference#ハンドル)として設定することができます**。

アカウントを登録した際に付けられた `xxx.bsky.social` のようなハンドルのままでも Bluesky Social を使う際には何も問題はありませんが、カスタムドメインを設定することで次の利点があります。

- **ドメインに関連付けられている Web サービス等を通じて、アカウントの持ち主が本物であることを証明することができます。** 例えば、日本の衆議院議員である河野太郎氏を例に考えてみましょう。河野太郎氏が今までに Bluesky Social にアカウントを作成した事実はありませんが、仮に河野太郎氏が「`tarokono.bsky.social`」というアカウントを作成したとして、どうやってこのアカウントの持ち主が本物の河野太郎氏であると証明できるでしょうか？Bluesky Social におけるこの問題の最も確実な解決策は、河野太郎氏または河野太郎氏の組織が所有しているドメインである「`taro.org`」を「`tarokono.bsky.social`」の代わりにアカウントのハンドルとして設定することです。なぜなら、「`taro.org`」のドメインを所有しているのは河野太郎氏または河野太郎氏の組織以外にはあり得ず、「`taro.org`」のドメインをアカウントのハンドルに設定できるのは河野太郎氏または河野太郎氏の組織だけだからです。
- **常に同じハンドルでユーザーはあなたを複数サービスで確実に識別できます。** あなたは新しいサービスを開始する際に、他のサービスで使用しているハンドル名が既に誰かに使われているといった経験をしたことはないでしょうか？カスタムドメインを使用してあなたが所有しているドメインをハンドルとして使用することで、この問題は完全に過去のものになります。AT Protocol を基盤としたサービスにおいてドメインをハンドルとして設定することで、あなたはあなたが所有しているドメインによって自己の存在の確からしさを証明し、そしてあなた以外のユーザーもあなたが本物であることを確実に識別することができます。つまり、あなたが所有するドメインはあなたが手放さない限り、AT Protocol において常にあなただけのハンドルになります。

:::info
カスタムドメインを使用したハンドルは、オンライン上のソーシャル・アイデンティティに対するユーザーの信頼と管理の状態を改善するための方法です。これは Web サイトの命名システムである DNS の既存のインフラを基盤としています。
:::

:::caution
あなたが所有するドメインをハンドルとして設定した時点で、あなたのアカウントの過去の`xxx.bsky.social`といったハンドルは誰もが取得できる状態になる点に注意してください。
:::

## 設定方法

Bluesky Social でカスタムドメインを設定する方法はとても簡単です。次の手順に従ってください。

:::info
**[公式の Web クライアント](https://bsky.app)**を使用して記述しますが、Android や iOS のモバイルアプリについても操作方法は同じです。

また、カスタムドメインを設定する際に DNS の設定が必要になりますが、あなたが所有しているドメインの管理サービスに応じて設定を行ってください。今回の例では Google Domains の設定画面を例として使用します。
:::

### 1. `Settings`を開く

![CustomDomain0](./img/custom_domain_web_0.png)

### 2. `Advanced`セクションの`Change handle`を押す

![CustomDomain1](./img/custom_domain_web_1.png)

### 3. `I have my own domain`リンクを押す

![CustomDomain2](./img/custom_domain_web_2.png)

### 4. `did=`で始まる文字列をコピーする

![CustomDomain3](./img/custom_domain_web_3.png)

ここまでの工程で上記の画面が出力されたと思いますので、赤枠の`Value:`の下にある`did=`で始まる文字列をコピーしてください。上記の画像の例だと`did=did:pic:iijrtk7ocored6zuziwmqq3c`をコピーすることになります。ここでコピーした値は[次のセクション](#5-dnsを設定する)で DNS を設定する際に使用します。

### 5. DNS を設定する

:::info
カスタムドメインの設定において、この DNS を設定するセクションが最も難しいです。
ただ、次の手順を順番に行えば必ず設定できますので、落ち着いて読み進めてください。
:::

あなたが所有するドメインの管理サービスにログインし、DNS の設定画面を開いてください。今回の例では Google Domains の設定画面を使用しますが、どのサービスであっても DNS の設定で違いはありませんので同じように設定してください。

Google Domains の場合は、まず`DNS`のメニューを押してください。

![CustomDomain4](./img/custom_domain_web_4.png)

次に、`カスタムレコードを管理`ボタンを押してください。

![CustomDomain5](./img/custom_domain_web_5.png)

そうすると、レコードの入力画面が出力されると思うので、次のように入力してください。

![CustomDomain6](./img/custom_domain_web_6.png)

上記画像の入力項目をよりわかりやすく整理したのが次のテーブルです。

| フィールド名 | 値                                                                                                          |
| ------------ | ----------------------------------------------------------------------------------------------------------- |
| **ホスト名** | \_atproto                                                                                                   |
| **タイプ**   | TXT                                                                                                         |
| **TTL**      | 3600                                                                                                        |
| **データ**   | [先の工程](#4-didで始まる文字列をコピーする)で Bluesky 公式クライアントからコピーした`did=`で始まる文字列。 |

ここまで入力できたら、`保存`を押してカスタムレコードを反映してください。以上で DNS の設定は完了です。

### 6. Bluesky で DNS 認証する

[DNS の設定](#5-dnsを設定する)が完了したら、Bluesky の公式クライアントの`Change Handle`画面に戻ってください。次の画像の画面です。

![CustomDomain7](./img/custom_domain_web_7.png)

まず、上記の画像の`Enter the domain you want to use`の直下にある入力フィールドにあなたがハンドルとして設定したいドメインを入力してください。次に、画面の下部にある`Verify DNS Record`ボタンを押してください。

![CustomDomain8](./img/custom_domain_web_8.png)

もしあなたが設定した DNS レコードの設定が正しい場合は、`Verify DNS Record`ボタンを押した後で上記画像のように`Domain verified!`メッセージが出力されます。あとは、`Update to xxxxx`ボタンを押すとあなたが設定したドメインがハンドルしてアカウントに設定されます。

:::tip
もし DNS 認証で失敗する場合は、DNS レコードの設定が反映されるまで数分ほど待つか、[DNS レコードの設定](#5-dnsを設定する)を見直してください。
:::
